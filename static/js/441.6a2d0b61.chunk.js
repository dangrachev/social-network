"use strict";(self.webpackChunksn_app=self.webpackChunksn_app||[]).push([[441],{9441:function(e,s,r){r.r(s),r.d(s,{default:function(){return _}});var n=r(1413),o=r(5671),t=r(3144),i=r(136),a=r(8557),u=r(2791),l=r(364),c=r(5773),d=r(4554),g=r(4108),h=r(885),f=r(1133),p=r(5397),x="Paginator_paginator_wrap__NHCdh",w="Paginator_currentPage__uMhle",Z=r(184),P=function(e){for(var s=e.totalItemsCount,r=e.pageSize,n=e.currentPage,o=e.onPageChanged,t=e.portionSize,i=void 0===t?10:t,a=Math.ceil(s/r),l=[],c=1;c<=a;c++)l.push(c);var g=Math.ceil(a/i),P=(0,u.useState)(Math.floor(n/i)+1),j=(0,h.Z)(P,2),m=j[0],C=j[1],v=(m-1)*i+1,U=m*i;return(0,Z.jsxs)(d.Z,{className:x,color:"text.primary",children:[m>1&&(0,Z.jsx)(f.Z,{sx:{cursor:"pointer"},onClick:function(){C(m-1)}}),l.filter((function(e){return e>=v&&e<=U})).map((function(e,s){return(0,Z.jsx)("span",{className:n===e&&w,onClick:function(){o(e)},children:e},s)})),g>m&&(0,Z.jsx)(p.Z,{sx:{cursor:"pointer"},onClick:function(){C(m+1)}})]})},j=r(5254),m=r(1523),C=r(493),v=r(5021),U=r(6278),k=r(220),z=r(6259),y=r(7924),S=r(4180),b=function(e){var s={usersWrap:{display:"flex"},avatar:{width:100,height:100,marginRight:5},userInfo:{display:"block"},btnFollow:{margin:"10px"}};return(0,Z.jsx)(d.Z,{children:(0,Z.jsxs)(C.Z,{children:[(0,Z.jsxs)(v.ZP,{disablePadding:!0,sx:s.usersWrap,children:[(0,Z.jsxs)(U.Z,{component:m.OL,to:"/profile/"+e.user.id,sx:{cursor:"pointer"},children:[(0,Z.jsx)(k.Z,{sx:s.avatar,src:null!=e.user.photos.small?e.user.photos.small:j}),(0,Z.jsxs)(d.Z,{sx:s.userInfo,children:[(0,Z.jsx)(z.Z,{primary:e.user.name}),(0,Z.jsx)(z.Z,{secondary:e.user.status})]})]}),(0,Z.jsx)(d.Z,{sx:s.btnFollow,children:e.user.followed?(0,Z.jsx)(S.S,{disabled:e.followingUsersIds.some((function(s){return s===e.user.id})),hidden:!e.isAuth,onClick:function(){e.unfollow(e.user.id)},size:"medium",variant:"outlined",children:"Unfollow"}):(0,Z.jsx)(S.S,{disabled:e.followingUsersIds.some((function(s){return s===e.user.id})),hidden:!e.isAuth,onClick:function(){e.follow(e.user.id)},size:"medium",variant:"outlined",children:"Follow"})})]}),(0,Z.jsx)(y.Z,{})]})})},I=function(e){return(0,Z.jsxs)(d.Z,{children:[(0,Z.jsx)(P,{totalItemsCount:e.totalUsersCount,pageSize:e.pageSize,currentPage:e.currentPage,onPageChanged:e.onPageChanged}),e.users.map((function(s){return(0,Z.jsx)(b,{user:s,follow:e.follow,unfollow:e.unfollow,followingUsersIds:e.followingUsersIds,isAuth:e.isAuth},s.id)}))]})},A=function(e){(0,i.Z)(r,e);var s=(0,a.Z)(r);function r(){var e;(0,o.Z)(this,r);for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];return(e=s.call.apply(s,[this].concat(t))).onPageChanged=function(s){e.props.getCurrentPageUsers(s,e.props.pageSize)},e}return(0,t.Z)(r,[{key:"componentDidMount",value:function(){this.props.requestUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return(0,Z.jsx)(d.Z,{flex:6,children:this.props.isFetching?(0,Z.jsx)(g.Z,{}):(0,Z.jsx)(I,(0,n.Z)((0,n.Z)({},this.props),{},{onPageChanged:this.onPageChanged}))})}}]),r}(u.Component),_=(0,l.$j)((function(e){return{users:e.usersPage.users,pageSize:e.usersPage.pageSize,totalUsersCount:e.usersPage.totalUsersCount,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching,followingUsersIds:e.usersPage.followingUsersIds,isAuth:e.auth.isAuth}}),{toggleFollow:c.Gm,setUsers:c.HM,toggleFollowProgress:c.G1,requestUsers:c.D7,getCurrentPageUsers:c.$f,unfollow:c.fv,follow:c.ZN})(A)},1133:function(e,s,r){var n=r(4836);s.Z=void 0;var o=n(r(5649)),t=r(184),i=(0,o.default)((0,t.jsx)("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"KeyboardArrowLeft");s.Z=i},5397:function(e,s,r){var n=r(4836);s.Z=void 0;var o=n(r(5649)),t=r(184),i=(0,o.default)((0,t.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight");s.Z=i}}]);
//# sourceMappingURL=441.6a2d0b61.chunk.js.map